<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Bok.gg</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,wght@0,600;1,600&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,300;0,500;0,600;0,700;1,300;1,500;1,600;1,700&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,400;1,400&amp;display=swap" rel="stylesheet" />
    <!-- Google Korean fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Brush+Script&display=swap" rel="stylesheet">
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/bootstrap/new-age-gh-pages/css/styles.css" rel="stylesheet" />
    <link href="/bootstrap/niceadmin/css/style.css" rel="stylesheet" />
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top shadow-sm" id="mainNav">
        <div class="container px-5">
            <a class="navbar-brand fw-bold" href="#page-top">Bok.gg</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="bi-list"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto me-4 my-3 my-lg-0">
                    <li class="nav-item"><a class="nav-link me-lg-3" href="#features" th:text="|${accountLoginDto.getUserLoginId()}님, 안녕하세요|">할로</a></li>
                    <li class="nav-item"><a class="nav-link me-lg-3" href="#download" th:onclick="|location.href='@{/users/mypage}'|">My Page</a></li>
                </ul>
                <button class="btn btn-primary rounded-pill px-3 mb-2 mb-lg-0" data-bs-toggle="modal" data-bs-target="#feedbackModal">
                                <span class="d-flex align-items-center">
                                    <i class="bi-chat-text-fill me-2"></i>
                                    <span class="small">Send Feedback</span>
                                </span>
                </button>
            </div>
        </div>
    </nav>
    <table class="table">
        <tr th:each="result : ${matchResults}"
            th:classappend="${result.isWin() ? 'table-primary' : 'table-danger'}"
            th:id="|${result.getMatchId()}|"
        >
            <td th:text="|승리|" th:if="${result.isWin() == true}"></td>
            <td th:text="|패배|" th:if="${result.isWin() == false}"></td>
            <td th:text="${result.getChampionName()}"></td>
            <td th:text="${result.getGameEndDateTime()}"></td>
            <td th:text="| K/D/A= ${result.getKill()}/${result.getDeath()}/${result.getAssist()}|"></td>
            <td><button th:text="|상세 보기|" th:onclick="|location.href='@{/match/{param}(param=${result.getMatchId()})}'|"></button></td>
            <td><button th:text="|댓글|"
                        th:matchId="${result.getMatchId()}"
                        th:onclick="commentList(this.getAttribute('matchId'))"></button></td>
            <h2>구분선</h2>
        </tr>
    </table>
</body>
<script src="../node_modules/jquery/dist/jquery.js"></script>
<script th:inline="javascript">

    function commentList(a) {
        console.log("hello");
        console.log(a);
        $.ajax({
            url: '/comments',
            type: 'POST',
            data: a,
            dataType: "text"
        })
        console.log("bye");
    }
</script>
</html>